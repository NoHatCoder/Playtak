!function(e){"use strict";function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(e){return e.replace(/"/g,"&quot;")}function n(e){if(!e)return"";var t=[];for(var n in e){var i=(e[n]+"").replace(/"/g,"&quot;");t.push(n+'="'+r(i)+'"')}return t.join(" ")}function i(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i=a.normalize(i);for(var l=o(e),s=[],u=0;u<l.length;u++){var p=l[u],f=p.isLink&&a.resolve(i.validate,p.toString(),p.type);if(p.isLink&&f){var g=p.toHref(i.defaultProtocol),v=a.resolve(i.format,p.toString(),p.type),c=a.resolve(i.formatHref,g,p.type),y=a.resolve(i.attributes,g,p.type),h=a.resolve(i.tagName,g,p.type),k=a.resolve(i.linkClass,g,p.type),m=a.resolve(i.target,g,p.type),w="<"+h+' href="'+r(c)+'" class="'+r(k)+'"';m&&(w+=' target="'+r(m)+'"'),y&&(w+=" "+n(y)),w+=">"+t(v)+"</"+h+">",s.push(w)}else"nl"===p.type&&i.nl2br?i.newLine?s.push(i.newLine):s.push("<br>\n"):s.push(t(p.toString()))}return s.join("")}var o=e.tokenize,a=e.options;String.prototype.linkify||(String.prototype.linkify=function(e){return i(this,e)}),window.linkifyStr=i}(window.linkify);